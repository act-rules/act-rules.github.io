
@import './../../styles/base.scss';
@import './../../styles/variables';
@import './../../styles/mixins';

section.layout-container {
  @include fixed-stretch();
  overflow: hidden;
  display: flex;

  >aside {
    @include flex-column();
    flex-shrink: 0;
    background-color: $bg-secondary;
    color: $fg-secondary;
    max-width: 275px;
    padding-left: 1rem;
    position: relative;

    >div.logo {
      flex-shrink: 0;
    }

    >nav {
      @include flex-scroll-container();

      >ul {
        @include reset-list();
        >li {
          transition: all ease;
          a {
            @include header-style($fg-secondary);
            text-transform: uppercase;
            font-size: 0.83em;
            position: relative;
            &:hover {
              color: $accent;
            }
            &.active{
              color: $accent;
              &::after{
                opacity: 1;
              }
            }
            &.parent-item{
              color: currentColor;
            }
            &::after{
              content: '';
              right: 0;
              top: -10px;
              height: 30px;
              position: absolute;
              width: 7px;
              background-color: $accent;
              opacity: 0;
            }
          }
          >ul {
            @include reset-list();
            padding-inline-start: 1rem;
            padding-inline-end: 0rem;
            >li {
              >a {
                text-transform: capitalize;
                padding-right: 1rem;
              }
            }
          }
        }
      }
    }
  }

  >main {
    @include flex-column();
    @include flex-scroll-container();
    flex: 1;
    color: $fg-primary;
    line-height: 1.5;
    padding: 0 6rem;

    .page-container {
      margin: 4rem 0;

      h1{
        border-bottom: 1px solid $sep;
        padding: 2rem 0;
        text-transform: uppercase;
        margin-bottom: 0;
        text-decoration: none;
      }

      h2, h3, h4, h5, h6 {
        &:hover {
          text-decoration: underline;
        }
      }

      // Styles for rules page
      &.rules-page{
        .rules-listing {
          counter-reset: rule-item; 
          
          >article {
            border: 1px solid $sep;
            padding: 0.5rem;
            display: flex;
            flex-direction: row;
            position: relative;
            background-color: $bg-primary;

            &:nth-child(2n) {
              background-color: lighten($sep, 2%);
              &::before{
                background-color: lighten($sep, 2%);
              }
            }

            // Index/ counter
            &:before {
              counter-increment: rule-item;
              content: counter(rule-item); 
              position: absolute;
              width: 30px;
              left: -31px;
              top: -1px;
              border: 1px solid $sep;
              border-right: none;
              font-weight: bold;
              text-align: center;
              padding: 11px 0;
              background-color: $bg-primary;
            }

            &:hover{
              border: 1px solid $accent;
              &::before{
                border-color: $accent;
              }
            }

            div.meta {
              font-size: 80%;
              span.heading {
                padding: 0.25rem 0.5rem;
                border: 1px solid $sep;
                text-transform: uppercase;
                font-weight: bold;
                display: inline;
              }
              a.sc-item {
                background-color: $sep;
                border: 1px solid $bg-primary;
                cursor: pointer;
                text-decoration: none;
                padding: 0.25rem 0.5rem;
                text-transform: uppercase;
                display: inline-block;
                &:hover {
                  color: $accent;
                }
              }
            }

            >main {
              flex: 1;
              >a{
                text-decoration: none;
              }
              h2{
                margin: 0;
                margin-bottom: 0.5rem;
              }
              &:last-child{
                border-bottom: none;
              }
              p {
                font-weight: bold;
              }
            }

            >aside {
              border-left: 1px solid $sep;
              div.meta{
                span.heading{
                  display: inline-block;
                  background-color: $sep;
                }
                a.sc-item {
                  display: block;
                  background-color: transparent;
                }
              }
            }
          }
        }
      }
    }
  } 
}


// media queries
