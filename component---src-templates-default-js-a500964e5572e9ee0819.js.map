{"version":3,"sources":["webpack:///./src/templates/default.js"],"names":["data","markdownRemark","site","url","JSON","parse","siteMetadata","actRulesPackage","www","html","frontmatter","glossaryPaths","Object","keys","glossaryUsages","reduce","out","key","title","className","dangerouslySetInnerHTML","__html","content","baseUrl","replace","match","glossaryKey","toLowerCase","includes","value","linkUpGlossaryTerms","query"],"mappings":"iOAMe,sBAAe,IAAZA,EAAW,EAAXA,KACTC,EAAyBD,EAAzBC,eAAgBC,EAASF,EAATE,KAEhBC,EACJC,KAAKC,MAAMH,EAAKI,aAAaC,iBADhCC,IAAOL,IAEAM,EAAsBR,EAAtBQ,KAAMC,EAAgBT,EAAhBS,YAsBRC,EAAgBC,OAAOC,KAAKC,GAAgBC,QAAO,SAACC,EAAKC,GAE9D,OADAD,EAAIC,GAAJ,YAAuBA,EAChBD,IACL,IAEH,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAKE,MAAOR,EAAYQ,QACxB,6BAASC,UAAU,kBAClB,4BAAKT,EAAYQ,OACjB,yBACCE,wBAAyB,CACxBC,OAhCuB,SAACC,EAAStB,GACrC,IAAKA,EACJ,OAAOsB,EAER,IAAMC,EAA4EpB,EAClF,OAAOmB,EAAQE,QAAQ,kBAAkB,SAACC,EAAOR,GAChD,IAAMS,EAAW,IAAOT,EAAIU,cAC5B,IAAKf,OAAOC,KAAKb,GAAM4B,SAASF,GAC/B,OAAOD,EAGR,IAAMI,EAAQ7B,EAAK0B,GACnB,YAAqB,IAAVG,EACHJ,EAGF,UAAWF,EAAjB,IAA4BM,EAA5B,OAgBWC,CAAoBrB,EAAME,SAQjC,IAAMoB,EAAK","file":"component---src-templates-default-js-a500964e5572e9ee0819.js","sourcesContent":["import React from 'react'\nimport Layout from '../components/layout/'\nimport { graphql } from 'gatsby'\nimport SEO from '../components/seo'\nimport glossaryUsages from './../../_data/glossary-usages.json'\n\nexport default ({ data }) => {\n\tconst { markdownRemark, site } = data\n\tconst {\n\t\twww: { url },\n\t} = JSON.parse(site.siteMetadata.actRulesPackage)\n\tconst { html, frontmatter } = markdownRemark\n\n\tconst linkUpGlossaryTerms = (content, data) => {\n\t\tif (!data) {\n\t\t\treturn content\n\t\t}\n\t\tconst baseUrl = process.env.NODE_ENV === `development` ? window.location.origin : url\n\t\treturn content.replace(/href=\"#(.*?)\"/g, (match, key) => {\n\t\t\tconst glossaryKey = `#${key.toLowerCase()}`\n\t\t\tif (!Object.keys(data).includes(glossaryKey)) {\n\t\t\t\treturn match\n\t\t\t}\n\n\t\t\tconst value = data[glossaryKey]\n\t\t\tif (typeof value === 'undefined') {\n\t\t\t\treturn match\n\t\t\t}\n\n\t\t\treturn `href=\" ${baseUrl}/${value}\"`\n\t\t})\n\t}\n\n\tconst glossaryPaths = Object.keys(glossaryUsages).reduce((out, key) => {\n\t\tout[key] = `glossary/${key}`\n\t\treturn out\n\t}, {})\n\n\treturn (\n\t\t<Layout>\n\t\t\t<SEO title={frontmatter.title} />\n\t\t\t<section className=\"page-container\">\n\t\t\t\t<h1>{frontmatter.title}</h1>\n\t\t\t\t<div\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: linkUpGlossaryTerms(html, glossaryPaths),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</section>\n\t\t</Layout>\n\t)\n}\n\nexport const query = graphql`\n\tquery($slug: String!) {\n\t\tmarkdownRemark(fields: { slug: { eq: $slug } }) {\n\t\t\thtml\n\t\t\tfrontmatter {\n\t\t\t\ttitle\n\t\t\t}\n\t\t}\n\t\tsite {\n\t\t\tsiteMetadata {\n\t\t\t\tactRulesPackage\n\t\t\t}\n\t\t}\n\t}\n`\n"],"sourceRoot":""}